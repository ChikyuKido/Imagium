<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/css/bulma.css">
    <style>
        .modal {
            display: none;
        }
    </style>
</head>
<body>
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <img src="/imgs/icon.webp" alt="Home">
        </a>

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
            <a class="navbar-item" href="/">
                Home
            </a>
            <a class="navbar-item" href="/library">
                Image Library
            </a>
        </div>

        <div class="navbar-end">
            <div class="navbar-item">
                <div class="buttons">
                    <a class="button is-primary" href="/register">
                        <strong>Sign up</strong>
                    </a>
                    <a class="button is-light" href="/login">
                        Log in
                    </a>
                </div>
            </div>
        </div>
    </div>
</nav>
<section class="section">
    <div class="container">
        <h1 class="title">Admin Dashboard</h1>
        <div class="tabs is-boxed">
            <ul>
                <li class="is-active" id="users-tab"><a>Users</a></li>
                <li id="settings-tab"><a>Settings</a></li>
            </ul>
        </div>
        <div class="content" id="users-section">
            <h2 class="subtitle">User Management</h2>
            <table class="table is-fullwidth">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Roles</th>
                </tr>
                </thead>
                <tbody id="users-table-body">
                <!-- Users data will be inserted here -->
                </tbody>
            </table>
        </div>
        <div class="content is-hidden" id="settings-section">
            <h2 class="subtitle">Settings</h2>
            <form id="settings-form">
                <div class="field">
                    <label class="label">Allow Admin Register </label>
                    <div class="control">
                        <input class="checkbox" type="checkbox" id="admin-register">
                        <p>If you want a second administrator account, you can uncheck this box and all traffic will be redirected to the Register Admin page. You can also create a normal account and then add the admin role</p>
                    </div>
                </div>
                <div class="field">
                    <label class="label">Aggregation Time (minutes)</label>
                    <div class="control">
                        <input class="input" type="number" id="aggregation-time" placeholder="Aggregation Time">
                        <p>How often the access logs should be aggregated. If you increase this value, no data will be displayed for a lower access status date. If you set this value to 60 minutes, for example, the access statistics L15M and L30M will always be 0. The advantage in the long term is that the file can be parsed faster and the job of combining them does not have to run as often. It is not recommended to reduce this value to less than 15 minutes.</p>
                    </div>
                </div>
                <div class="field">
                    <label class="label">Automatic Deletion Time (minutes)</label>
                    <div class="control">
                        <input class="input" type="number" id="automatic-deletion-time" placeholder="Automatic Deletion Time">
                        <p>How long a subimage should be saved after the last access. Even if a subimage has not been accessed for 7 days, it will be deleted. </p>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <button class="button is-primary" type="button" onclick="saveSettings()">Save Settings</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Role Management Modal -->
<div class="modal" id="role-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Manage Roles</p>
            <button class="delete" aria-label="close" onclick="closeModal()"></button>
        </header>
        <section class="modal-card-body">
            <div class="field">
                <label class="label">Roles</label>
                <div class="control">
                    <input class="input" type="text" id="role-input" placeholder="Enter a role">
                </div>
            </div>
            <div class="buttons">
                <button class="button is-danger" onclick="deleteRole()">Delete</button>
                <button class="button is-success" onclick="addRole()">Add</button>
            </div>
        </section>
    </div>
</div>
<script src="/js/admin/dashboard.js"></script>
</body>
</html>
